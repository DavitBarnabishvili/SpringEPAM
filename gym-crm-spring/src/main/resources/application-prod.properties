# Production Environment Configuration
server.port=8080

# Production Database Configuration
spring.datasource.url=${DB_URL:jdbc:h2:file:./data/gymcrm_prod;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.driverClassName=${DB_DRIVER:org.h2.Driver}
spring.datasource.username=${DB_USERNAME:producer}
spring.datasource.password=${DB_PASSWORD:ProdPass2025!}
spring.jpa.database-platform=${DB_PLATFORM:org.hibernate.dialect.H2Dialect}

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000

# H2 Console - strictly disabled in production
spring.h2.console.enabled=false

# JPA/Hibernate - validate only, never modify schema
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

# Logging - Error level for production
logging.level.com.gym.crm=ERROR
logging.level.org.springframework.web=ERROR
logging.level.root=WARN
logging.file.name=/var/log/gym-crm/gym-crm-prod.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=30

# Actuator - minimal endpoints for production
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=never
management.endpoint.health.show-components=never
management.prometheus.metrics.export.enabled=true

# Performance optimizations
server.compression.enabled=true
server.tomcat.threads.max=200